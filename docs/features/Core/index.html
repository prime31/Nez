<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/Nez/blog/rss.xml" title="Nez Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Nez/blog/atom.xml" title="Nez Blog Atom Feed"><title data-react-helmet="true">Nez Core | Nez</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Nez Core | Nez"><meta data-react-helmet="true" name="description" content="The root class in the Nez world is the Core class which is a subclass of the Game class. Your Game class should subclass Core. Core provides access to all the important subsystems via static fields and methods for easy access."><meta data-react-helmet="true" property="og:description" content="The root class in the Nez world is the Core class which is a subclass of the Game class. Your Game class should subclass Core. Core provides access to all the important subsystems via static fields and methods for easy access."><meta data-react-helmet="true" property="og:url" content="https://prime31.github.io//Nez/docs/features/Core"><link data-react-helmet="true" rel="shortcut icon" href="/Nez/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://prime31.github.io//Nez/docs/features/Core"><link rel="stylesheet" href="/Nez/styles.56e41c30.css">
<link rel="preload" href="/Nez/styles.6ae7f08f.js" as="script">
<link rel="preload" href="/Nez/runtime~main.9a36f4bd.js" as="script">
<link rel="preload" href="/Nez/main.751a60a0.js" as="script">
<link rel="preload" href="/Nez/1.556f9134.js" as="script">
<link rel="preload" href="/Nez/43.0cc2f1df.js" as="script">
<link rel="preload" href="/Nez/44.dcbe0e60.js" as="script">
<link rel="preload" href="/Nez/f976f453.ab27eb60.js" as="script">
<link rel="preload" href="/Nez/42.8a222c93.js" as="script">
<link rel="preload" href="/Nez/cc90ff72.ec35da71.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/Nez/"><img src="/Nez/img/logo.svg" alt="Nez Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/Nez/img/logo.svg" alt="Nez Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Nez/docs/">Docs</a><a class="navbar__item navbar__link" href="/Nez/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/prime31/Nez" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/Nez/"><img src="/Nez/img/logo.svg" alt="Nez Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/Nez/img/logo.svg" alt="Nez Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/Nez/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/Nez/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/prime31/Nez" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Docusaurus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/about/Samples">Samples</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/getting-started/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/getting-started/FNACompat">FNA Compatibility</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Features</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/Nez/docs/features/Core">Nez Core</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nez/docs/features/ContentManagement">Content Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Nez/docs/features/RuntimeInspector">Runtime Inspector</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Utils</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Utils/Tweening">Tweening</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Utils/Collections">Collections</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Utils/Pooling">Pooling</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Graphics</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Lighting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Graphics/Lighting/DeferredLighting">Deferred Lighting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Graphics/Lighting/SpriteLights">Sprite Lights</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Graphics/Rendering">Rendering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Graphics/SVG">Nez SVG Support</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Graphics/Stencil">Stencil</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">UI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/UI/NezUI">Nez UI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/UI/DearImGui">Dear IMGUI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">AI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/AI/Behavior">Behavior</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/AI/Pathfinding">Pathfinding</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Physics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Physics/NezPhysics">Nez Physics/Collisions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Physics/Verlet">Verlet Physics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/Physics/FarseerPhysics">Farseer Physics/Collisions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">ECS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/ECS/SceneEntityComponentSystem">Scene/Entity/Component System</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/ECS/SceneTransitions">Scene Transitions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Nez/docs/features/ECS/EntitySystems">Entity Systems</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Nez Core</h1></header><div class="markdown"><p>The root class in the Nez world is the Core class which is a subclass of the Game class. Your Game class should subclass Core. Core provides access to all the important subsystems via static fields and methods for easy access.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="graphics"></a>Graphics<a class="hash-link" href="#graphics" title="Direct link to heading">#</a></h2><p>Nez will create an instance of the Graphics class (available via <code>Graphics.Instance</code>) for you at startup. It includes a default BitmapFont so you can be up and running right away with good looking text (MonoGames SpriteFont has some terrible compression going on) and should cover most of your rendering needs. Graphics provides direct access to a SpriteBatch and there is a SpriteBatch extension class with a bunch of helpers for drawing rectangles, circles, lines, etc.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="scene"></a>Scene<a class="hash-link" href="#scene" title="Direct link to heading">#</a></h2><p>When you set Core.scene to a new Scene, Nez will finish rendering the current Scene, fire off the <code>CoreEvents.SceneChanged</code> event and then start rendering the new Scene. For more information on Scenes see the <a href="https://github.com/prime31/Nez/blob/master/FAQs/Scene-Entity-Component.md" target="_blank" rel="noopener noreferrer">Scene-Entity-Component</a> FAQ.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sprites"></a>Sprites<a class="hash-link" href="#sprites" title="Direct link to heading">#</a></h2><p>You can&#x27;t make a 2D game without sprites. Nez provides a variety of ways to render sprites from basic single texture rendering to sprite atlas support to nine patch sprites. Some of the common sprite Components to get to know are <code>SpriteRenderer</code>, <code>SpriteAnimator</code>, <code>SpriteTrail</code>, <code>TiledSprite</code>, <code>ScrollingSprite</code> and <code>PrototypeSprite</code>. The two most common things in a 2D game are static sprites and animated sprites. Examples are below:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">// load a single image texture into a static SpriteRenderer</span></div><div class="token-line" style="color:#393A34"><span class="token plain">var texture = Content.Load&lt;Texture2D&gt;(&quot;SomeTex&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">var entity = CreateEntity(&quot;SpriteExample&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">entity.AddComponent(new SpriteRenderer(texture));</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">// load up a texture that is an atlas of 16x16 animation frames</span></div><div class="token-line" style="color:#393A34"><span class="token plain">var texture = Content.Load&lt;Texture2D&gt;(&quot;SomeCharacterTex&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">var sprites = Sprite.SpritesFromAtlas(texture, 16, 16);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span></div><div class="token-line" style="color:#393A34"><span class="token plain">var entity = CreateEntity(&quot;SpriteExample&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// add a SpriteAnimator, which renders the current frame of the currently playing animation</span></div><div class="token-line" style="color:#393A34"><span class="token plain">var animator = entity.AddComponent&lt;SpriteAnimator&gt;();</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// add some animations</span></div><div class="token-line" style="color:#393A34"><span class="token plain">animator.AddAnimation(&quot;Run&quot;, sprites[0], sprites[1], sprites[2]);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">animator.AddAnimation(&quot;Idle&quot;, sprites[3], sprites[4]);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// some time later, play an animation</span></div><div class="token-line" style="color:#393A34"><span class="token plain">animator.Play(&quot;Run&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sprite-atlases"></a>Sprite Atlases<a class="hash-link" href="#sprite-atlases" title="Direct link to heading">#</a></h2><p>Far and away, the most common way to optimize a 2D game is to use sprite atlases. Nez comes with a sprite atlas packer tool and a runtime atlas loader. See <a href="https://github.com/prime31/Nez/blob/master/Nez.SpriteAtlasPacker/README.md" target="_blank" rel="noopener noreferrer">this README</a> for more details. Here is a quick usage example. We will be using the folder hierarchy below for the example. Textures can be present in any of the folder. Those in <code>root-dir</code> will not be part of a sprite animation. Any sprites in subfolders will be part of sprite animations with the animation name being the folder name (<code>player</code>, <code>enemy1</code> and <code>enemy2</code> would all be valid animations).</p><ul><li>root-dir<ul><li>player</li><li>enemy1</li><li>enemy2</li></ul></li></ul><p>To generate the sprite atlas and data file Nez needs to load the atlas use the following command:</p><p><code>mono SpriteAtlasPacker.exe -image:roots.png -map:roots.atlas path/to/root-dir</code></p><p>Copy the generated <code>roots.png</code> and <code>roots.atlas</code> files into your project&#x27;s Content folder. Note that the .png and .atlas files must have the same name. Now we can load and use the atlas using the following code:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">var atlas = Content.LoadSpriteAtlas(&quot;Content/roots.atlas&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// get a sprite from the atlas</span></div><div class="token-line" style="color:#393A34"><span class="token plain">var sprite = atlas.GetSprite(&quot;sprite-name.png&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// get a sprite animation</span></div><div class="token-line" style="color:#393A34"><span class="token plain">var animation = atlas.GetAnimation(&quot;enemy1&quot;);</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// atlases can also easily be used by the SpriteAnimator via a convenience method</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// animator is assumed to be loaded elsewhere</span></div><div class="token-line" style="color:#393A34"><span class="token plain">animator.AddAnimationsFromAtlas(atlas);</span></div><div class="token-line" style="color:#393A34"><span class="token plain">animator.Play(&quot;enemy2&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="physics"></a>Physics<a class="hash-link" href="#physics" title="Direct link to heading">#</a></h2><p>Be careful not to confuse the Nez Physics system with realistic physics simulations (such as Box2D, Farseer, Chipmunk, etc)! That is not at all its purpose. The Physics system is here only to provide spatial and collision information. It does not attempt to handle a full, real-world physics simulation. At the core of the Physics system is a SpatialHash that gets populated and updated automatically as you add/remove/move Colliders. You can access the various Physics-related methods via the <strong>Physics</strong> class which provides methods (boxcast, raycast, etc) to handle broadphase collision detection in a performant way. Internally, Nez uses the Physics systems for collision detection with various shapes such as rectangles, circles and polygons. The Entity class provides move methods that handle all this for you or you could opt to just query the Physics system and handle the narrow phase collision detection yourself.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="timermanager"></a>TimerManager<a class="hash-link" href="#timermanager" title="Direct link to heading">#</a></h2><p>The TimerManager is a simple helper that lets you pass in an Action that can be called once or repeately with or without a delay. The <strong>Core.Schedule</strong> method provides easy access to the TimerManager. When you call <strong>Schedule</strong> you get back an ITimer object that has a <strong>Stop</strong> method that can be used to stop the timer from firing again.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="coroutinemanager"></a>CoroutineManager<a class="hash-link" href="#coroutinemanager" title="Direct link to heading">#</a></h2><p>The CoroutineManager lets you pass in an IEnumerator which is then ticked each frame allowing you to break long running tasks up into smaller bits. The entry point for starting a coroutine is <strong>Core.StartCoroutine</strong> which returns an ICoroutine object with a single method: <strong>Stop</strong>. The execution of a coroutine can be paused at any point using the yield statement. You can yield a call to <code>Coroutine.WaitForSeconds</code> which will delay execution for N seconds or you can yield a call to <strong>StartCoroutine</strong> to pause until another coroutine completes.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="emittercoreevents"></a><code>Emitter&lt;CoreEvents&gt;</code><a class="hash-link" href="#emittercoreevents" title="Direct link to heading">#</a></h2><p>Core provides an emitter that fires events at some key times. Access is via <strong><code>Core.Emitter.AddObserver</code></strong> and <strong><code>Core.Emitter.RemoveObserver</code></strong>. The <strong><code>CoreEvents</code></strong> enum defines all the events available.</p><p>The <strong><code>Emitter&lt;T&gt;</code></strong> class is available for use in your own classes as well. You can key events by int, enum or any struct. It was really built with int or enum in mind but there is no way to use generics to constrain to just those types. Note that as a performance enhancement if you are using Enums as the event type it is recommended to pass in a custom <code>IEqualityComparer&lt;T&gt;</code> to the Emitter constructor to avoid boxing. See the <strong><code>CoreEventsComparer</code></strong> for a simple template to copy for your own custom <code>IEqualityComparer&lt;T&gt;</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="debug-console"></a>Debug Console<a class="hash-link" href="#debug-console" title="Direct link to heading">#</a></h2><p>If you are buliding with the DEBUG compilation symbol, Nez includes a simple console that provides some useful information. Press the tilde (~) key to show/hide the console. Once it is open you can type &#x27;help&#x27; to view all the available commands which include helper to log all loaded assets, total entity count, physics colliders managed by the SpatialHash, etc. Type &#x27;help COMMAND&#x27; to get help information for a specific command.</p><p><img alt="in-game debug console" src="/Nez/assets/images/console-41bd586bdb0b546124073bb25341e38a.png"></p><p>You can also easily add your own command to the debug console. Just add the <strong>CommandAttribute</strong> to any static method and specify the command name and help string. Commands can have a single parameter. Here is an example of one of the built-in commands:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">[Command( &quot;assets&quot;, &quot;Logs all loaded assets. Pass &#x27;s&#x27; for scene assets or &#x27;g&#x27; for global assets&quot; )]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">static void LogLoadedAssets( string whichAssets = &quot;s&quot; )</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="global-managers"></a>Global Managers<a class="hash-link" href="#global-managers" title="Direct link to heading">#</a></h2><p>Nez lets you add a global manager object that will have an update method called every frame before Scene.update occurs. Any of your systems that should persist Scene changes can be put here. Nez has several of it&#x27;s own systems setup as global managers as well including: scheduler, coroutine manager and tween manager. You can register/unregister your global managers via <code>Core.RegisterGlobalManager</code> and <code>Core.UnregisterGlobalManager</code>.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="other-important-static-classes"></a>Other Important Static Classes<a class="hash-link" href="#other-important-static-classes" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="time"></a>Time<a class="hash-link" href="#time" title="Direct link to heading">#</a></h2><p>Time provides easy, static access to deltaTime, unscaledDeltaTime, timeScale and some other useful properties. For ease of use it also provides an altDeltaTime/altTimeScale so that you can have multiple different timelines going on without having to manage them yourself.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="input"></a>Input<a class="hash-link" href="#input" title="Direct link to heading">#</a></h2><p>As you can probably guess, Input gets you access to all input (mouse, keyboard, gamepad). All the usual stuff is in there with button terminology defined in the following way:</p><ul><li><strong>Down</strong>: true the entire time the button/key is down</li><li><strong>Pressed</strong>: true only the frame that a button/key is pressed</li><li><strong>Released</strong>: true only the frame that a button/key is released</li></ul><p>Several virtual input classes are also provided which let you combine multiple input types into a single class that you can query. For example, you can setup a VirtualButton that can map to a variety of different input types that should result in some object moving to the right. You can create the VirtualButton with the D key, right arrow key, Dpad-right and left GamePad stick and just query it to know if any of those were pressed. The same applies to other common scenarios as well. Virtual input is available for button emulation (<code>VirtualButton</code>), analog joystick emulation (<code>VirtualJoystick</code>) and digital (on/off) joystick emulation (<code>VirtualIntegerAxis</code>). Below is an example of mapping multiple inputs to a single action:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">    void SetupVirtualInput()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        // setup input for shooting a fireball. we will allow z on the keyboard or a on the gamepad</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _fireInput = new VirtualButton();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _fireInput.AddKeyboardKey( Keys.X )</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                  .AddGamePadButton( 0, Buttons.A );</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        // horizontal input from dpad, left stick or keyboard left/right</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _xAxisInput = new VirtualIntegerAxis();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _xAxisInput.AddGamePadDPadLeftRight()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   .AddGamePadLeftStickX()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   .AddKeyboardKeys( VirtualInput.OverlapBehavior.TakeNewer, Keys.Left, Keys.Right );</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        // vertical input from dpad, left stick or keyboard up/down</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _yAxisInput = new VirtualIntegerAxis();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        _yAxisInput.AddGamePadDpadUpDown()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   .AddGamePadLeftStickY()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                   .AddKeyboardKeys( VirtualInput.OverlapBehavior.TakeNewer, Keys.Up, Keys.Down );</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    void IUpdatable.Update()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        // gather input from the Virtual Inputs we setup above</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        var moveDir = new Vector2( _xAxisInput.Value, _yAxisInput.Value );</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        var isShooting = _fireInput.IsPressed;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="debug"></a>Debug<a class="hash-link" href="#debug" title="Direct link to heading">#</a></h2><p>The Debug class provides logging and a few drawing methods. The <code>Insist</code> class provides an assortment of assert conditions. These classes are only compiled into DEBUG builds so you can use them freely throughout your code and when you do a non-DEBUG build none of them will be compiled into your game.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="flags"></a>Flags<a class="hash-link" href="#flags" title="Direct link to heading">#</a></h2><p>Do you love the ability to pack lots of data into a single int but hate the syntax of dealing with it? The Flags class is there to help. It includes helper methods for dealing with ints to check if bits are set and to set/unset them. Very handy for dealing with Collider.physicsLayer.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/prime31/Nez/edit/master/Nez.github.io/docs/features/core.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Nez/docs/getting-started/FNACompat"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« FNA Compatibility</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Nez/docs/features/ContentManagement"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Content Management Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#graphics" class="table-of-contents__link">Graphics</a></li><li><a href="#scene" class="table-of-contents__link">Scene</a></li><li><a href="#sprites" class="table-of-contents__link">Sprites</a></li><li><a href="#sprite-atlases" class="table-of-contents__link">Sprite Atlases</a></li><li><a href="#physics" class="table-of-contents__link">Physics</a></li><li><a href="#timermanager" class="table-of-contents__link">TimerManager</a></li><li><a href="#coroutinemanager" class="table-of-contents__link">CoroutineManager</a></li><li><a href="#emittercoreevents" class="table-of-contents__link"><code>Emitter&lt;CoreEvents&gt;</code></a></li><li><a href="#debug-console" class="table-of-contents__link">Debug Console</a></li><li><a href="#global-managers" class="table-of-contents__link">Global Managers</a></li><li><a href="#time" class="table-of-contents__link">Time</a></li><li><a href="#input" class="table-of-contents__link">Input</a></li><li><a href="#debug" class="table-of-contents__link">Debug</a></li><li><a href="#flags" class="table-of-contents__link">Flags</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Nez/docs/">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/Nez/docs/features/core">Features</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/fuNrR4jF5Z" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/prime_31" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Nez/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/prime31/Nez" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Prime31, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/Nez/styles.6ae7f08f.js"></script>
<script src="/Nez/runtime~main.9a36f4bd.js"></script>
<script src="/Nez/main.751a60a0.js"></script>
<script src="/Nez/1.556f9134.js"></script>
<script src="/Nez/43.0cc2f1df.js"></script>
<script src="/Nez/44.dcbe0e60.js"></script>
<script src="/Nez/f976f453.ab27eb60.js"></script>
<script src="/Nez/42.8a222c93.js"></script>
<script src="/Nez/cc90ff72.ec35da71.js"></script>
</body>
</html>